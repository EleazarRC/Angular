{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\n\nfunction ImgComponent_img_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"img\", 2);\n    i0.ɵɵlistener(\"load\", function ImgComponent_img_0_Template_img_load_0_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return ctx_r3.imgLoaded();\n    })(\"error\", function ImgComponent_img_0_Template_img_error_0_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return ctx_r5.imgError();\n    });\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"src\", ctx_r0.img, i0.ɵɵsanitizeUrl);\n  }\n}\n\nfunction ImgComponent_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 3);\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"src\", ctx_r2.imgDefault, i0.ɵɵsanitizeUrl);\n  }\n}\n\nexport class ImgComponent {\n  constructor() {\n    this.img = '';\n    this.alt = '';\n    this.loaded = new EventEmitter();\n    this.imgDefault = 'https://www.m2crowd.com/core/i/placeholder.png';\n    this.counter = 0; // before render\n    // NO async -- once time\n\n    console.log('constructor', 'imgValue =>', this.img);\n  }\n\n  set changeImg(newImg) {\n    this.img = newImg;\n  }\n\n  ngOnChanges(changes) {\n    // before - during render\n    // changes inputs -- multiples times\n    console.log('ngOnChanges', 'imgValue =>', this.img);\n    console.log('changes', changes);\n  }\n\n  ngOnInit() {\n    // before render\n    // async - fetch -- once time\n    console.log('ngOnInit', 'imgValue =>', this.img);\n    this.counterFn = window.setInterval(() => {\n      this.counter += 1;\n      console.log('run count');\n    }, 1000);\n  }\n\n  ngAfterViewInit() {\n    // after render\n    // handler children -- once time\n    console.log('ngAfterViewInit');\n  }\n\n  ngOnDestroy() {\n    // delete -- once time\n    console.log('ngOnDestroy');\n    window.clearInterval(this.counterFn);\n  }\n\n  imgError() {\n    this.img = this.imgDefault;\n  }\n\n  imgLoaded() {\n    console.log('log hijo');\n    this.loaded.emit(this.img);\n  }\n\n}\n\nImgComponent.ɵfac = function ImgComponent_Factory(t) {\n  return new (t || ImgComponent)();\n};\n\nImgComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ImgComponent,\n  selectors: [[\"app-img\"]],\n  inputs: {\n    changeImg: \"changeImg\",\n    alt: \"alt\"\n  },\n  outputs: {\n    loaded: \"loaded\"\n  },\n  features: [i0.ɵɵNgOnChangesFeature],\n  decls: 5,\n  vars: 3,\n  consts: [[\"width\", \"200\", \"alt\", \"la imagen de la url que se ha insertado\", 3, \"src\", \"load\", \"error\", 4, \"ngIf\", \"ngIfElse\"], [\"elseImg\", \"\"], [\"width\", \"200\", \"alt\", \"la imagen de la url que se ha insertado\", 3, \"src\", \"load\", \"error\"], [\"alt\", \"Imagen de muestra para cuando no hay ninguna\", 3, \"src\"]],\n  template: function ImgComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, ImgComponent_img_0_Template, 1, 1, \"img\", 0);\n      i0.ɵɵelementStart(1, \"h3\");\n      i0.ɵɵtext(2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(3, ImgComponent_ng_template_3_Template, 1, 1, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n    }\n\n    if (rf & 2) {\n      const _r1 = i0.ɵɵreference(4);\n\n      i0.ɵɵproperty(\"ngIf\", ctx.img)(\"ngIfElse\", _r1);\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate(ctx.counter);\n    }\n  },\n  directives: [i1.NgIf],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJpbWcuY29tcG9uZW50LnNjc3MifQ== */\"]\n});","map":{"version":3,"sources":["C:/laragon/www/Angular/my-strore-v2/src/app/components/img/img.component.ts"],"names":["EventEmitter","i0","i1","ImgComponent_img_0_Template","rf","ctx","_r4","ɵɵgetCurrentView","ɵɵelementStart","ɵɵlistener","ImgComponent_img_0_Template_img_load_0_listener","ɵɵrestoreView","ctx_r3","ɵɵnextContext","imgLoaded","ImgComponent_img_0_Template_img_error_0_listener","ctx_r5","imgError","ɵɵelementEnd","ctx_r0","ɵɵproperty","img","ɵɵsanitizeUrl","ImgComponent_ng_template_3_Template","ɵɵelement","ctx_r2","imgDefault","ImgComponent","constructor","alt","loaded","counter","console","log","changeImg","newImg","ngOnChanges","changes","ngOnInit","counterFn","window","setInterval","ngAfterViewInit","ngOnDestroy","clearInterval","emit","ɵfac","ImgComponent_Factory","t","ɵcmp","ɵɵdefineComponent","type","selectors","inputs","outputs","features","ɵɵNgOnChangesFeature","decls","vars","consts","template","ImgComponent_Template","ɵɵtemplate","ɵɵtext","ɵɵtemplateRefExtractor","_r1","ɵɵreference","ɵɵadvance","ɵɵtextInterpolate","directives","NgIf","styles"],"mappings":"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","sourcesContent":["import { EventEmitter } from '@angular/core';\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"@angular/common\";\r\nfunction ImgComponent_img_0_Template(rf, ctx) { if (rf & 1) {\r\n    const _r4 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"img\", 2);\r\n    i0.ɵɵlistener(\"load\", function ImgComponent_img_0_Template_img_load_0_listener() { i0.ɵɵrestoreView(_r4); const ctx_r3 = i0.ɵɵnextContext(); return ctx_r3.imgLoaded(); })(\"error\", function ImgComponent_img_0_Template_img_error_0_listener() { i0.ɵɵrestoreView(_r4); const ctx_r5 = i0.ɵɵnextContext(); return ctx_r5.imgError(); });\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const ctx_r0 = i0.ɵɵnextContext();\r\n    i0.ɵɵproperty(\"src\", ctx_r0.img, i0.ɵɵsanitizeUrl);\r\n} }\r\nfunction ImgComponent_ng_template_3_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelement(0, \"img\", 3);\r\n} if (rf & 2) {\r\n    const ctx_r2 = i0.ɵɵnextContext();\r\n    i0.ɵɵproperty(\"src\", ctx_r2.imgDefault, i0.ɵɵsanitizeUrl);\r\n} }\r\nexport class ImgComponent {\r\n    constructor() {\r\n        this.img = '';\r\n        this.alt = '';\r\n        this.loaded = new EventEmitter();\r\n        this.imgDefault = 'https://www.m2crowd.com/core/i/placeholder.png';\r\n        this.counter = 0;\r\n        // before render\r\n        // NO async -- once time\r\n        console.log('constructor', 'imgValue =>', this.img);\r\n    }\r\n    set changeImg(newImg) {\r\n        this.img = newImg;\r\n    }\r\n    ngOnChanges(changes) {\r\n        // before - during render\r\n        // changes inputs -- multiples times\r\n        console.log('ngOnChanges', 'imgValue =>', this.img);\r\n        console.log('changes', changes);\r\n    }\r\n    ngOnInit() {\r\n        // before render\r\n        // async - fetch -- once time\r\n        console.log('ngOnInit', 'imgValue =>', this.img);\r\n        this.counterFn = window.setInterval(() => {\r\n            this.counter += 1;\r\n            console.log('run count');\r\n        }, 1000);\r\n    }\r\n    ngAfterViewInit() {\r\n        // after render\r\n        // handler children -- once time\r\n        console.log('ngAfterViewInit');\r\n    }\r\n    ngOnDestroy() {\r\n        // delete -- once time\r\n        console.log('ngOnDestroy');\r\n        window.clearInterval(this.counterFn);\r\n    }\r\n    imgError() {\r\n        this.img = this.imgDefault;\r\n    }\r\n    imgLoaded() {\r\n        console.log('log hijo');\r\n        this.loaded.emit(this.img);\r\n    }\r\n}\r\nImgComponent.ɵfac = function ImgComponent_Factory(t) { return new (t || ImgComponent)(); };\r\nImgComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: ImgComponent, selectors: [[\"app-img\"]], inputs: { changeImg: \"changeImg\", alt: \"alt\" }, outputs: { loaded: \"loaded\" }, features: [i0.ɵɵNgOnChangesFeature], decls: 5, vars: 3, consts: [[\"width\", \"200\", \"alt\", \"la imagen de la url que se ha insertado\", 3, \"src\", \"load\", \"error\", 4, \"ngIf\", \"ngIfElse\"], [\"elseImg\", \"\"], [\"width\", \"200\", \"alt\", \"la imagen de la url que se ha insertado\", 3, \"src\", \"load\", \"error\"], [\"alt\", \"Imagen de muestra para cuando no hay ninguna\", 3, \"src\"]], template: function ImgComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵtemplate(0, ImgComponent_img_0_Template, 1, 1, \"img\", 0);\r\n        i0.ɵɵelementStart(1, \"h3\");\r\n        i0.ɵɵtext(2);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵtemplate(3, ImgComponent_ng_template_3_Template, 1, 1, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\r\n    } if (rf & 2) {\r\n        const _r1 = i0.ɵɵreference(4);\r\n        i0.ɵɵproperty(\"ngIf\", ctx.img)(\"ngIfElse\", _r1);\r\n        i0.ɵɵadvance(2);\r\n        i0.ɵɵtextInterpolate(ctx.counter);\r\n    } }, directives: [i1.NgIf], styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJpbWcuY29tcG9uZW50LnNjc3MifQ== */\"] });\r\n"]},"metadata":{},"sourceType":"module"}